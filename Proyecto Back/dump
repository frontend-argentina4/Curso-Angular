-- H2 2.1.214;
;             
CREATE USER IF NOT EXISTS "SA" SALT 'a125b1a9ea929d94' HASH 'b66b3da608107f83e3c302b73dfc230be4376dc144ca8e4e9019ae9f834442d0' ADMIN;         
CREATE SEQUENCE "PUBLIC"."PRIMARY_SEQUENCE" START WITH 10000; 
CREATE MEMORY TABLE "PUBLIC"."ASISTENCIA_VIAJES"(
    "VIAJES_ID" BIGINT NOT NULL,
    "PERSONA_ID" BIGINT NOT NULL
);     
ALTER TABLE "PUBLIC"."ASISTENCIA_VIAJES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY("VIAJES_ID", "PERSONA_ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ASISTENCIA_VIAJES;       
CREATE MEMORY TABLE "PUBLIC"."COLECTIVOS"(
    "ID" BIGINT NOT NULL,
    "CANTIDAD_ASIENTOS" INTEGER,
    "ID_MODELO" BIGINT,
    "PATENTE" CHARACTER VARYING(255),
    "MODELO_ID_ID" BIGINT NOT NULL
);               
ALTER TABLE "PUBLIC"."COLECTIVOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COLECTIVOS;              
CREATE MEMORY TABLE "PUBLIC"."MODELO"(
    "ID" BIGINT NOT NULL,
    "MARCA" CHARACTER VARYING(255),
    "NOMBRE" CHARACTER VARYING(255)
);               
ALTER TABLE "PUBLIC"."MODELO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.MODELO;  
INSERT INTO "PUBLIC"."MODELO" VALUES
(1, 'Chevrolet', 'Colectivo 1'),
(2, 'Chevrolet', 'Colectivo 2'),
(3, 'Wolksvagen', 'Colectivo 3');   
CREATE MEMORY TABLE "PUBLIC"."PERSONA"(
    "ID" BIGINT NOT NULL,
    "AGE" INTEGER,
    "LAST_NAME" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255)
);        
ALTER TABLE "PUBLIC"."PERSONA" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");      
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.PERSONA; 
INSERT INTO "PUBLIC"."PERSONA" VALUES
(1, 26, 'Linares', 'Octavio'),
(2, 27, 'Diaz', 'Camila Belen'),
(3, 999, 'Perez', 'Jorge');          
CREATE MEMORY TABLE "PUBLIC"."VIAJES"(
    "ID" BIGINT NOT NULL,
    "FECHA_LLEGADA" DATE,
    "FECHA_SALIDA" DATE,
    "LUGAR_DESTINO" CHARACTER VARYING(255),
    "LUGAR_SALIDA" CHARACTER VARYING(255),
    "ID_COLECTIVO_ID" BIGINT NOT NULL
);    
ALTER TABLE "PUBLIC"."VIAJES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.VIAJES;  
ALTER TABLE "PUBLIC"."ASISTENCIA_VIAJES" ADD CONSTRAINT "PUBLIC"."FKBHJFLJGI7PDS4LU4VKCC99CB5" FOREIGN KEY("VIAJES_ID") REFERENCES "PUBLIC"."VIAJES"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."COLECTIVOS" ADD CONSTRAINT "PUBLIC"."FK397BTSAKO4D18HLEAQTISIFA9" FOREIGN KEY("MODELO_ID_ID") REFERENCES "PUBLIC"."MODELO"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."ASISTENCIA_VIAJES" ADD CONSTRAINT "PUBLIC"."FK45IDYVOMPD5MRX8NRLR22SQQD" FOREIGN KEY("PERSONA_ID") REFERENCES "PUBLIC"."PERSONA"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."VIAJES" ADD CONSTRAINT "PUBLIC"."FK2LCCJO2EUBVBGJGKUBMAMCRKW" FOREIGN KEY("ID_COLECTIVO_ID") REFERENCES "PUBLIC"."COLECTIVOS"("ID") NOCHECK;            
